---
layout: post
title: 页游游戏推广转化率分析-技术思路
tags: xgame xGame 页游 游戏 推广 流失 转化率 webgame flash
category: xgame
---

我们以游戏CP的角度考虑一下怎么衡量转化率。通过记录一些关键的数据点，来查找账号转换中用户遇到的问题点，便于协助研发优化产品、评估用户质量等。

# 用户的转换流程

先回顾一下页游玩家从点广告开始怎么成为游戏内玩家的流程：

1.广告 => 2. 点击 => 3.注册平台账号 => 4.访问游戏主页 => 5.加载客服端 => 6.连接服务器 => 7.创建游戏账号 => 8.创建游戏玩家 => 9.开始你心中的征程吧！

从流程上看1-3步都由平台方负责导入，CP是不能知道的。作为游戏我们的起点是4。

从第4步开始，开始记录玩家经历的每个重要节点。

## 已转化用户的标准：

计算转化率的时候，有两个作为标准, 到底项目是选择哪个作为标准，就看自己的实际需要！

- 成功创建 **账号** / 访问账号数
- 成功创建 **角色** / 访问账号数

# 技术实现点
## 前端推送记录数据的不同

从技术实现上来说，我们需要有两个不同的上传加载点的程序部分：

- 流程4-5的步骤中flash程序还在加载，尚未启动，需要使用js上传数据
- 从流程6开始，flash加载开始运行后，控制器转到flash中


## 记录的流程点

- 访问用户列表:从web server的access log可以取到
- 加载异常
- flash本身的加载情况
- 创建账号
- 创建角色
- 其他

## 记录哪些数据
- 事务id
- 流程id
- 平台相关信息
- flash环境
- 账号、角色信息
- 其他

## 每次加载作为一次事务，构建唯一的事务id

## 数量量太大了吧

作为一个正常的玩家，每天玩玩游戏，偶然刷新刷新一下页面，累计下来的日志量也是蛮大的。

比如有10000个活跃玩家，我们的加载流程记录点20个，每天平均刷新5次：

10,000 * 20 * 5 = 1,000,000 

这样简单例子，每天就是100w个记录。虽说现在什么都讲Big Data，存储或许不算个事情。但是存储的量大，也引起了后续分析的计算量大，其实很多事无效的数据。而这里要做的优化敲好就是下面的问题！！！

# 我们到底关注哪些用户 ？

感觉洋洋洒洒的分析下来程序都快写完了，这思维也跳跃了吧！
鄙视吧！ 我的程序思维，先入为主，总是在考虑程序的实现方式、效率、优化，这个算是我的缺点吧！！！

回过头来看，我们真的需要记录这么多数据吗？如果一个玩家每天都来玩你的游戏，你还有他转换的问题吗？不就是 =100%吗？

## 数据指标
- 访问用户数/列表
- 创建账号、角色数/列表
- **流失用户** 数/列表
- **流失用户** 加载流程中的步骤列表
- **流失用户** 最末步骤计数

在这个环节对于 **成功转化的用户** 我们的关心度是 **最低** 的，我们的重点是流失用户，他的背后有发生了什么样的故事呢？

精彩就在他们最后的一个足迹！！！

说道这里，数据量大的优化方案已经有了，亲爱的小伙伴，你找到了吗？

是的，没错！！！

流失的用户能来我们的流程几遍？多少应该是1次，最多应该也就3次，而成功转化的用户，我们已经不再需要记录他的日志了！！！ 

我们把个加载的记录的上限设定为N（可以假定为3)，这个唯一标记对于页游是一个 **(平台,服务器id,平台账号)** 组成的三元组.

上面我们10,000活跃用户的日志量就变成了 10,000 * 20 * 3这个固定值。你我约定，海枯石烂都不变了！！！不要再来每天100w了，啊啊啊啊啊啊！！！


# 这个分析系统的使用者们
- 转化率： 老板、市场、广告投放、运营，关心投入产出比的朋友们 ![$$](/img/converse_rate/dollars.jpg)
- 流失的具体步骤：产品、程序、开发者，查找和解决具体问题的朋友 ![kenan](/img/converse_rate/kenan.jpg)



